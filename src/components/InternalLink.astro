---
interface Props {
  href: string;
  class?: string;
  rel?: string;
  target?: string;
  title?: string;
}

const { 
  href, 
  class: className = '',
  rel,
  target,
  title
} = Astro.props;

// Vérifier si le lien est externe
const isExternal = href.startsWith('http');
const linkUrl = isExternal ? href : new URL(href, Astro.url).pathname;

// Définir les attributs par défaut pour les liens externes
const defaultRel = isExternal ? 'noopener noreferrer' : undefined;
const defaultTarget = isExternal ? '_blank' : undefined;
---

<a
  href={linkUrl}
  class={className}
  rel={rel || defaultRel}
  target={target || defaultTarget}
  title={title}
>
  <slot />
</a> 